{"ast":null,"code":"import _toConsumableArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDrop}from'react-dnd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ClownContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),droppedAccessories=_useState2[0],setDroppedAccessories=_useState2[1];var moveAccessory=function moveAccessory(id,x,y){setDroppedAccessories(function(prevAccessories){return prevAccessories.map(function(accessory){return accessory.id===id?_objectSpread(_objectSpread({},accessory),{},{x:x,y:y}):accessory;});});};var _useDrop=useDrop(function(){return{accept:'accessory',drop:function drop(item,moniter){var offset=moniter.getClientOffset();var containerRect=document.getElementById('doll-container').getBoundingClientRect();var x=offset.x-containerRect.left-item.width/2;var y=offset.y-containerRect.top-item.height/2;moveAccessory(item.id,x,y);setDroppedAccessories(function(prevAccessories){return[].concat(_toConsumableArray(prevAccessories),[item]);});},collect:function collect(moniter){return{isOver:moniter.isOver()};}};}),_useDrop2=_slicedToArray(_useDrop,2),isOver=_useDrop2[0].isOver,drop=_useDrop2[1];var renderAccessories=function renderAccessories(){return droppedAccessories.map(function(accessory){return/*#__PURE__*/_jsx(\"img\",{id:accessory.id,src:\"./assets/head/\".concat(accessory.id,\".png\"),alt:accessory.alt,className:\"accessory-dropped\",style:{top:accessory.y,left:accessory.x}},accessory.id);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"doll-container\",ref:drop,children:[/*#__PURE__*/_jsx(\"img\",{id:\"doll-base\",src:\"./assets/doll-base.png\",alt:\"Doll Base\"}),renderAccessories()]});}export default ClownContainer;","map":{"version":3,"names":["React","useState","useDrop","jsx","_jsx","jsxs","_jsxs","ClownContainer","_useState","_useState2","_slicedToArray","droppedAccessories","setDroppedAccessories","moveAccessory","id","x","y","prevAccessories","map","accessory","_objectSpread","_useDrop","accept","drop","item","moniter","offset","getClientOffset","containerRect","document","getElementById","getBoundingClientRect","left","width","top","height","concat","_toConsumableArray","collect","isOver","_useDrop2","renderAccessories","src","alt","className","style","ref","children"],"sources":["/Users/bruce/Documents/GitHub/art101_clown_proj/src/Components/ClownContainer.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDrop } from 'react-dnd';\n\nfunction ClownContainer() {\n  const [droppedAccessories, setDroppedAccessories] = useState([]);\n\n  const moveAccessory = (id, x, y) => {\n    setDroppedAccessories((prevAccessories) =>\n      prevAccessories.map((accessory) =>\n        accessory.id === id ? { ...accessory, x, y } : accessory\n      )\n    );\n  };\n\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'accessory',\n    drop: (item, moniter) => {\n      const offset = moniter.getClientOffset();\n      const containerRect = document.getElementById('doll-container').getBoundingClientRect();\n      const x = offset.x - containerRect.left - item.width / 2;\n      const y = offset.y - containerRect.top - item.height / 2;\n      moveAccessory(item.id, x, y);\n      setDroppedAccessories((prevAccessories) => [...prevAccessories, item]);\n    },\n    collect: moniter => ({\n      isOver: moniter.isOver(),\n    }),\n  }));\n\n  const renderAccessories = () => {\n    return droppedAccessories.map((accessory) => (\n      <img\n        key={accessory.id}\n        id={accessory.id}\n        src={`./assets/head/${accessory.id}.png`}\n        alt={accessory.alt}\n        className=\"accessory-dropped\"\n        style={{\n          top: accessory.y,\n          left: accessory.x\n        }}\n      />\n    ));\n  }\n\n  return (\n    <div id=\"doll-container\" ref={drop}>\n      <img id=\"doll-base\" src=\"./assets/doll-base.png\" alt=\"Doll Base\" />\n      {renderAccessories()}\n    </div>\n  );\n}\n\nexport default ClownContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}