{"ast":null,"code":"import _toConsumableArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDrop}from'react-dnd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ClownContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),droppedAccessories=_useState2[0],setDroppedAccessories=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currItem=_useState4[0],setCurrItem=_useState4[1];var _useDrop=useDrop(function(){return{accept:'accessory',drop:function drop(item){setCurrItem(item);moveAccessory(item);},collect:function collect(monitor){return{isOver:monitor.isOver()};}};}),_useDrop2=_slicedToArray(_useDrop,2),isOver=_useDrop2[0].isOver,drop=_useDrop2[1];var moveAccessory=function moveAccessory(item){setDroppedAccessories(function(prevAccessories){var existingIndex=prevAccessories.findIndex(function(accessory){return accessory.className===item.className;});if(existingIndex!==-1){var updatedAccessories=_toConsumableArray(prevAccessories);updatedAccessories.splice(existingIndex,1,item);return updatedAccessories;}else{return[].concat(_toConsumableArray(prevAccessories),[item]);}});};var renderAccessories=function renderAccessories(){return droppedAccessories.map(function(item){//initialize to otherwise default values: top: -6%;\nvar topValue='0px';var z='1';var cN=item.className;if(cN==='hair'){topValue='-6%';z='100';}else if(cN==='eye'){topValue='3%';z='99';}else if(cN==='nose'){topValue='8%';z='90';}else if(cN==='mouth'){topValue='12%';z='90';}else if(cN==='shirt'){z='90';if(item.id==='fiery-poka-dot-shirt'){topValue='16.3%';}else{topValue='18%';}}else if(cN==='gloves'){z='90';topValue='47%';}else if(cN==='pant'){z='90';if(item.id==='skirt'){topValue='44%';}else if(item.id==='striped_pants'){topValue='41.5%';}else{topValue='38%';}}else if(cN==='shoes'){z='90';topValue='85%';}else{//others section\nif(cN==='makeup'){z='80';topValue='0.5%';}else if(cN==='hat'){z='101';topValue='-18%';}else if(cN==='neck'){z='100';topValue='18%';}}return/*#__PURE__*/_jsx(\"img\",{id:item.id,src:\"./assets/\".concat(item.type,\"/\").concat(item.id,\".png\"),alt:item.alt,className:item.className,style:{position:'absolute',zIndex:z,top:topValue}},item.id);});};function Verbal(_ref){var currentItem=_ref.currentItem;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showThoughtBubble=_useState6[0],setShowThoughtBubble=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),thought=_useState8[0],setThought=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),eyeAccessoryAdded=_useState10[0],setEyeAccessoryAdded=_useState10[1];useEffect(function(){// Check if the eye accessory has been added at least one time\nif(!eyeAccessoryAdded){var exist=false;// Perform the necessary check here (e.g., based on application state or data)\nfor(var i=0;i<droppedAccessories.length;i++){// Check the condition for each element\nif(droppedAccessories[i].className==='eye'){exist=true;break;// Exit the loop if the condition is met\n}}if(!exist&&currentItem&&currentItem.className==='eye'){console.log(currentItem.className);setEyeAccessoryAdded(true);setShowThoughtBubble(true);setThought(\"./img/new_vision.png\");}// Schedule a function to hide the thought bubble after 4 seconds (adjust the duration as needed)\nsetTimeout(function(){setShowThoughtBubble(false);},4000);}},[eyeAccessoryAdded]);return showThoughtBubble&&/*#__PURE__*/_jsx(\"img\",{src:thought,id:\"thought\",alt:\"thought\"});}return/*#__PURE__*/_jsxs(\"div\",{id:\"doll-container\",ref:drop,children:[/*#__PURE__*/_jsx(\"img\",{id:\"doll-base\",src:\"./assets/doll-base.png\",alt:\"Doll Base\"}),renderAccessories(),/*#__PURE__*/_jsx(Verbal,{currentItem:currItem})]});}export default ClownContainer;","map":{"version":3,"names":["React","useState","useEffect","useDrop","jsx","_jsx","jsxs","_jsxs","ClownContainer","_useState","_useState2","_slicedToArray","droppedAccessories","setDroppedAccessories","_useState3","_useState4","currItem","setCurrItem","_useDrop","accept","drop","item","moveAccessory","collect","monitor","isOver","_useDrop2","prevAccessories","existingIndex","findIndex","accessory","className","updatedAccessories","_toConsumableArray","splice","concat","renderAccessories","map","topValue","z","cN","id","src","type","alt","style","position","zIndex","top","Verbal","_ref","currentItem","_useState5","_useState6","showThoughtBubble","setShowThoughtBubble","_useState7","_useState8","thought","setThought","_useState9","_useState10","eyeAccessoryAdded","setEyeAccessoryAdded","exist","i","length","console","log","setTimeout","ref","children"],"sources":["/Users/bruce/Documents/GitHub/art101_clown_proj/src/Components/ClownContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDrop } from 'react-dnd';\n\nfunction ClownContainer() {\n  const [droppedAccessories, setDroppedAccessories] = useState([]);\n  const [currItem, setCurrItem] = useState(null);\n\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'accessory',\n    drop: (item) => {\n      setCurrItem(item);\n      moveAccessory(item);\n    }, \n    collect: monitor => ({\n      isOver: monitor.isOver(),\n    }),\n  }));\n\n  const moveAccessory = (item) => {\n    setDroppedAccessories((prevAccessories) => {\n      const existingIndex = prevAccessories.findIndex((accessory) => accessory.className === item.className);\n      if (existingIndex !== -1) {\n        const updatedAccessories = [...prevAccessories];\n        updatedAccessories.splice(existingIndex, 1, item);\n        return updatedAccessories;\n      } else {\n        return [...prevAccessories, item];\n      }\n    });\n  };\n\n  const renderAccessories = () => {\n    return droppedAccessories.map((item) => {\n\n      //initialize to otherwise default values: top: -6%;\n      let topValue = '0px';\n      let z = '1';\n      let cN = item.className;\n\n      if (cN === 'hair') {\n        topValue = '-6%'; \n        z = '100';\n      } else if (cN === 'eye') {\n        topValue = '3%';\n        z = '99';\n      } else if (cN === 'nose') {\n        topValue = '8%';\n        z = '90';\n      } else if(cN === 'mouth') {\n        topValue = '12%';\n        z = '90';\n      } else if(cN === 'shirt') {\n          z = '90';\n          if(item.id === 'fiery-poka-dot-shirt') {\n            topValue = '16.3%';\n          } else {\n            topValue = '18%';\n          }\n      } else if(cN === 'gloves') {\n        z = '90';\n        topValue = '47%';\n      } else if(cN === 'pant') {\n        z = '90';\n\n        if(item.id === 'skirt') {\n          topValue = '44%';\n        } else if(item.id === 'striped_pants') {\n          topValue = '41.5%';\n        } else {\n          topValue = '38%';\n        }\n      } else if(cN === 'shoes') {\n        z = '90';\n        topValue = '85%';\n      } else { //others section\n        if(cN === 'makeup') {\n          z = '80';\n          topValue = '0.5%';\n        } else if(cN === 'hat') {\n          z = '101';\n          topValue = '-18%';\n        } else if(cN === 'neck') {\n          z = '100';\n          topValue = '18%';\n        }\n      }\n  \n      return (\n        <img\n          key={item.id}\n          id={item.id}\n          src={`./assets/${item.type}/${item.id}.png`}\n          alt={item.alt}\n          className={item.className}\n          style={{\n            position: 'absolute',\n            zIndex: z,\n            top: topValue\n          }}\n        />\n      );\n    });\n  };\n\n  function Verbal({ currentItem }) {\n    const [showThoughtBubble, setShowThoughtBubble] = useState(false);\n    const [thought, setThought] = useState(null);\n\n    const [eyeAccessoryAdded, setEyeAccessoryAdded] = useState(false);\n\n    useEffect(() => {\n      // Check if the eye accessory has been added at least one time\n      if (!eyeAccessoryAdded) {\n        let exist = false;\n        // Perform the necessary check here (e.g., based on application state or data)\n        for (let i = 0; i < droppedAccessories.length; i++) {\n    \n          // Check the condition for each element\n          if (droppedAccessories[i].className === 'eye') {\n            exist = true;\n            break; // Exit the loop if the condition is met\n          }\n        }\n        if(!exist && currentItem && currentItem.className === 'eye') {\n          console.log(currentItem.className);\n          setEyeAccessoryAdded(true);\n          setShowThoughtBubble(true);\n          setThought(\"./img/new_vision.png\");\n        }\n        \n        // Schedule a function to hide the thought bubble after 4 seconds (adjust the duration as needed)\n        setTimeout(() => {\n          setShowThoughtBubble(false);\n        }, 4000);\n      }\n    }, [eyeAccessoryAdded]);\n\n    return showThoughtBubble && <img src={thought} id=\"thought\" alt=\"thought\" />;\n  }\n\n\n\n  return (\n    <div id=\"doll-container\" ref={drop}>\n      <img id=\"doll-base\" src=\"./assets/doll-base.png\" alt=\"Doll Base\" />\n      {renderAccessories()}\n      <Verbal currentItem={currItem}/>\n    </div>\n  );\n}\n\nexport default ClownContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}