{"ast":null,"code":"import _toConsumableArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDrop}from'react-dnd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ClownContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),droppedAccessories=_useState2[0],setDroppedAccessories=_useState2[1];var _useDrop=useDrop(function(){return{accept:'accessory',drop:function drop(item){moveAccessory(item);setDroppedAccessories(function(prevAccessories){return[].concat(_toConsumableArray(prevAccessories),[item]);});},collect:function collect(monitor){return{isOver:monitor.isOver()};}};}),_useDrop2=_slicedToArray(_useDrop,2),isOver=_useDrop2[0].isOver,drop=_useDrop2[1];var moveAccessory=function moveAccessory(item){var className=item.className,id=item.id;var existingAccessoryIndex=droppedAccessories.findIndex(function(accessory){return accessory.className===className;});console.log(\"This is the index: \"+existingAccessoryIndex);if(existingAccessoryIndex!==-1){setDroppedAccessories(function(prevAccessories){return prevAccessories.map(function(accessory,index){return index===existingAccessoryIndex?item:accessory;});});}else{setDroppedAccessories(function(prevAccessories){return[].concat(_toConsumableArray(prevAccessories),[item]);});}};var renderAccessories=function renderAccessories(){return droppedAccessories.map(function(accessory){return/*#__PURE__*/_jsx(\"img\",{id:accessory.id,src:\"./assets/head/\".concat(accessory.id,\".png\"),alt:accessory.alt,className:\"hair\",style:{position:'relative',bottom:'560px',maxWidth:'120px',maxHeight:'96px'}},accessory.id);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"doll-container\",ref:drop,children:[/*#__PURE__*/_jsx(\"img\",{id:\"doll-base\",src:\"./assets/doll-base.png\",alt:\"Doll Base\"}),renderAccessories()]});}export default ClownContainer;","map":{"version":3,"names":["React","useState","useDrop","jsx","_jsx","jsxs","_jsxs","ClownContainer","_useState","_useState2","_slicedToArray","droppedAccessories","setDroppedAccessories","_useDrop","accept","drop","item","moveAccessory","prevAccessories","concat","_toConsumableArray","collect","monitor","isOver","_useDrop2","className","id","existingAccessoryIndex","findIndex","accessory","console","log","map","index","renderAccessories","src","alt","style","position","bottom","maxWidth","maxHeight","ref","children"],"sources":["/Users/bruce/Documents/GitHub/art101_clown_proj/src/Components/ClownContainer.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDrop } from 'react-dnd';\n\nfunction ClownContainer() {\n  const [droppedAccessories, setDroppedAccessories] = useState([]);\n\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'accessory',\n    drop: (item) => {\n      moveAccessory(item);\n      setDroppedAccessories((prevAccessories) => [...prevAccessories, item]);\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n    }),\n  }));\n\n  const moveAccessory = (item) => {\n    const { className, id } = item;\n    const existingAccessoryIndex = droppedAccessories.findIndex(\n      (accessory) => accessory.className === className\n    );\n\n    console.log(\"This is the index: \" + existingAccessoryIndex);\n  \n    if (existingAccessoryIndex !== -1) {\n      setDroppedAccessories((prevAccessories) =>\n        prevAccessories.map((accessory, index) =>\n          index === existingAccessoryIndex ? item : accessory\n        )\n      );\n    } else {\n      setDroppedAccessories((prevAccessories) => [...prevAccessories, item]);\n    }\n  };\n\n  const renderAccessories = () => {\n    return droppedAccessories.map((accessory) => (\n      <img\n        key={accessory.id}\n        id={accessory.id}\n        src={`./assets/head/${accessory.id}.png`}\n        alt={accessory.alt}\n        className=\"hair\"\n        style={{\n          position: 'relative',\n          bottom: '560px',\n          maxWidth: '120px',\n          maxHeight: '96px',\n        }}\n      />\n    ));\n  }\n\n  return (\n    <div id=\"doll-container\" ref={drop}>\n      <img id=\"doll-base\" src=\"./assets/doll-base.png\" alt=\"Doll Base\" />\n      {renderAccessories()}\n    </div>\n  );\n}\n\nexport default ClownContainer;"],"mappings":"kRAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,IAAAC,SAAA,CAAoDP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzDG,kBAAkB,CAAAF,UAAA,IAAEG,qBAAqB,CAAAH,UAAA,IAEhD,IAAAI,QAAA,CAA2BX,OAAO,CAAC,iBAAO,CACxCY,MAAM,CAAE,WAAW,CACnBC,IAAI,CAAE,SAAAA,KAACC,IAAI,CAAK,CACdC,aAAa,CAACD,IAAI,CAAC,CACnBJ,qBAAqB,CAAC,SAACM,eAAe,WAAAC,MAAA,CAAAC,kBAAA,CAASF,eAAe,GAAEF,IAAI,IAAC,CAAC,CACxE,CAAC,CACDK,OAAO,CAAE,SAAAA,QAAAC,OAAO,QAAK,CACnBC,MAAM,CAAED,OAAO,CAACC,MAAM,CAAC,CACzB,CAAC,EACH,CAAC,EAAC,CAAC,CAAAC,SAAA,CAAAd,cAAA,CAAAG,QAAA,IATMU,MAAM,CAAAC,SAAA,IAAND,MAAM,CAAIR,IAAI,CAAAS,SAAA,IAWvB,GAAM,CAAAP,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAID,IAAI,CAAK,CAC9B,GAAQ,CAAAS,SAAS,CAAST,IAAI,CAAtBS,SAAS,CAAEC,EAAE,CAAKV,IAAI,CAAXU,EAAE,CACrB,GAAM,CAAAC,sBAAsB,CAAGhB,kBAAkB,CAACiB,SAAS,CACzD,SAACC,SAAS,QAAK,CAAAA,SAAS,CAACJ,SAAS,GAAKA,SAAS,EAClD,CAAC,CAEDK,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAGJ,sBAAsB,CAAC,CAE3D,GAAIA,sBAAsB,GAAK,CAAC,CAAC,CAAE,CACjCf,qBAAqB,CAAC,SAACM,eAAe,QACpC,CAAAA,eAAe,CAACc,GAAG,CAAC,SAACH,SAAS,CAAEI,KAAK,QACnC,CAAAA,KAAK,GAAKN,sBAAsB,CAAGX,IAAI,CAAGa,SAAS,EACrD,CAAC,EACH,CAAC,CACH,CAAC,IAAM,CACLjB,qBAAqB,CAAC,SAACM,eAAe,WAAAC,MAAA,CAAAC,kBAAA,CAASF,eAAe,GAAEF,IAAI,IAAC,CAAC,CACxE,CACF,CAAC,CAED,GAAM,CAAAkB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,MAAO,CAAAvB,kBAAkB,CAACqB,GAAG,CAAC,SAACH,SAAS,qBACtCzB,IAAA,QAEEsB,EAAE,CAAEG,SAAS,CAACH,EAAG,CACjBS,GAAG,kBAAAhB,MAAA,CAAmBU,SAAS,CAACH,EAAE,QAAO,CACzCU,GAAG,CAAEP,SAAS,CAACO,GAAI,CACnBX,SAAS,CAAC,MAAM,CAChBY,KAAK,CAAE,CACLC,QAAQ,CAAE,UAAU,CACpBC,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,MACb,CAAE,EAVGZ,SAAS,CAACH,EAWhB,CAAC,EACH,CAAC,CACJ,CAAC,CAED,mBACEpB,KAAA,QAAKoB,EAAE,CAAC,gBAAgB,CAACgB,GAAG,CAAE3B,IAAK,CAAA4B,QAAA,eACjCvC,IAAA,QAAKsB,EAAE,CAAC,WAAW,CAACS,GAAG,CAAC,wBAAwB,CAACC,GAAG,CAAC,WAAW,CAAE,CAAC,CAClEF,iBAAiB,CAAC,CAAC,EACjB,CAAC,CAEV,CAEA,cAAe,CAAA3B,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}