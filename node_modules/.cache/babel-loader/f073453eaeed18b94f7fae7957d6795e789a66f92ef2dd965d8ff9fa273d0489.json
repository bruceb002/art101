{"ast":null,"code":"import _objectSpread from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bruce/Documents/GitHub/art101_clown_proj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useDrop}from'react-dnd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ClownContainer(){var _useDrop=useDrop(function(){return{accept:'accessory',drop:function drop(item,monitor){var offset=monitor.getClientOffset();var containerRect=document.getElementById('doll-container').getBoundingClientRect();var x=offset.x-containerRect.left-item.width/2;var y=offset.y-containerRect.top-item.height/2;moveAccessory(item.id,x,y);},collect:function collect(monitor){return{isOver:monitor.isOver(),canDrop:monitor.canDrop()};}};}),_useDrop2=_slicedToArray(_useDrop,2),_useDrop2$=_useDrop2[0],isOver=_useDrop2$.isOver,canDrop=_useDrop2$.canDrop,drop=_useDrop2[1];var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),accessories=_React$useState2[0],setAccessories=_React$useState2[1];var moveAccessory=function moveAccessory(id,x,y){setAccessories(function(prevAccessories){return prevAccessories.map(function(accessory){return accessory.id===id?_objectSpread(_objectSpread({},accessory),{},{x:x,y:y}):accessory;});});};var renderAccessories=function renderAccessories(){return accessories.map(function(accessory){return/*#__PURE__*/_jsx(\"img\",{className:\"accessory-dropped\",src:\"./assets/head/\".concat(accessory.id,\".png\"),alt:accessory.id,style:{left:accessory.x,top:accessory.y}},accessory.id);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"doll-container\",ref:drop,children:[/*#__PURE__*/_jsx(\"img\",{id:\"doll-base\",src:\"./assets/doll-base.png\",alt:\"Doll Base\"}),renderAccessories()]});}export default ClownContainer;","map":{"version":3,"names":["React","useDrop","jsx","_jsx","jsxs","_jsxs","ClownContainer","_useDrop","accept","drop","item","monitor","offset","getClientOffset","containerRect","document","getElementById","getBoundingClientRect","x","left","width","y","top","height","moveAccessory","id","collect","isOver","canDrop","_useDrop2","_slicedToArray","_useDrop2$","_React$useState","useState","_React$useState2","accessories","setAccessories","prevAccessories","map","accessory","_objectSpread","renderAccessories","className","src","concat","alt","style","ref","children"],"sources":["/Users/bruce/Documents/GitHub/art101_clown_proj/src/Components/ClownContainer.js"],"sourcesContent":["import React from 'react';\nimport { useDrop } from 'react-dnd';\n\nfunction ClownContainer() {\n  const [{ isOver, canDrop }, drop] = useDrop(() => ({\n    accept: 'accessory',\n    drop: (item, monitor) => {\n      const offset = monitor.getClientOffset();\n      const containerRect = document.getElementById('doll-container').getBoundingClientRect();\n      const x = offset.x - containerRect.left - item.width / 2;\n      const y = offset.y - containerRect.top - item.height / 2;\n      moveAccessory(item.id, x, y);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  }));\n\n  const [accessories, setAccessories] = React.useState([]);\n\n  const moveAccessory = (id, x, y) => {\n    setAccessories((prevAccessories) =>\n      prevAccessories.map((accessory) =>\n        accessory.id === id ? { ...accessory, x, y } : accessory\n      )\n    );\n  };\n\n  const renderAccessories = () => {\n    return accessories.map((accessory) => (\n      <img\n        key={accessory.id}\n        className=\"accessory-dropped\"\n        src={`./assets/head/${accessory.id}.png`}\n        alt={accessory.id}\n        style={{ left: accessory.x, top: accessory.y }}\n      />\n    ));\n  };\n\n  return (\n    <div id=\"doll-container\" ref={drop}>\n      <img id=\"doll-base\" src=\"./assets/doll-base.png\" alt=\"Doll Base\" />\n      {renderAccessories()}\n    </div>\n  );\n}\n\nexport default ClownContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}